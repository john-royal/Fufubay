// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model User {
  id               Int       @id @default(autoincrement())
  createdAt        DateTime  @default(now())
  username         String    @unique
  email            String    @unique
  password         String
  stripeCustomerID String
  bio              String    @default("")
  image            String    @default("https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png")
  auctions         Auction[]
  bids             Bid[]
}

model Auction {
  id          Int      @id @default(autoincrement())
  createdAt   DateTime @default(now())
  title       String
  description String
  slug        String
  image       String   @default("https://upload.wikimedia.org/wikipedia/commons/3/3f/Placeholder_view_vector.svg")
  sellerID    Int
  seller      User     @relation(fields: [sellerID], references: [id])
  bids        Bid[]
}

model Bid {
  id        Int      @id @default(autoincrement())
  date      DateTime @default(now())
  amount    Int
  auctionID Int
  userID    Int
  auction   Auction  @relation(fields: [auctionID], references: [id])
  user      User     @relation(fields: [userID], references: [id])
}
